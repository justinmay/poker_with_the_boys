{"ast":null,"code":"var _jsxFileName = \"/Users/justinmay/Code/poker_with_the_boys/poker/src/index.tsx\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker'; //import Table from './components/Table';\n//import Login from './components/Login';\n\nimport AppRouter from './components/AppRouter';\nimport ApolloClient from 'apollo-client';\nimport { ApolloProvider } from '@apollo/react-hooks';\nimport Settings from './settings';\nimport { onError } from 'apollo-link-error';\nimport { HttpLink } from 'apollo-link-http';\nimport { ApolloLink, split } from 'apollo-link';\nimport { setContext } from 'apollo-link-context';\nimport { InMemoryCache } from 'apollo-cache-inmemory';\nimport { AUTH_TOKEN } from './constants';\nimport { WebSocketLink } from 'apollo-link-ws';\nimport { getMainDefinition } from 'apollo-utilities';\n/**\n * Change the uri to the server uri \n */\n\nconst errorLink = onError(({\n  graphQLErrors,\n  networkError\n}) => {\n  if (graphQLErrors) {\n    console.log(`GraphQLErrors:`, graphQLErrors);\n  }\n\n  if (networkError) {\n    console.log(`NetworkErrors: `, networkError);\n  }\n});\nconst httpLink = new HttpLink({\n  uri: Settings.ngrok_uri\n});\nconst wsLink = new WebSocketLink({\n  uri: Settings.socket_uri,\n  options: {\n    reconnect: true\n  }\n});\nconst authLink = setContext((_, {\n  headers\n}) => {\n  // get the authentication token from local storage if it exists\n  const token = localStorage.getItem(AUTH_TOKEN); // return the headers to the context so httpLink can read them\n\n  return {\n    headers: { ...headers,\n      authorization: token ? `${token}` : \"\"\n    }\n  };\n}); // using the ability to split links, you can send data to each link\n// depending on what kind of operation is being sent\n\nconst httpAndSubscriptionLink = split( // split based on operation type\n({\n  query\n}) => {\n  const definition = getMainDefinition(query);\n  return definition.kind === 'OperationDefinition' && definition.operation === 'subscription';\n}, wsLink, authLink.concat(httpLink));\nconst link = ApolloLink.from([errorLink, httpAndSubscriptionLink]);\nconst cache = new InMemoryCache();\nconst client = new ApolloClient({\n  link,\n  cache\n});\nReactDOM.render( /*#__PURE__*/React.createElement(ApolloProvider, {\n  client: client,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 3\n  }\n}, /*#__PURE__*/React.createElement(React.StrictMode, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 5\n  }\n}, /*#__PURE__*/React.createElement(AppRouter, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 7\n  }\n}))), document.getElementById('root')); // If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n\nserviceWorker.unregister();","map":{"version":3,"sources":["/Users/justinmay/Code/poker_with_the_boys/poker/src/index.tsx"],"names":["React","ReactDOM","serviceWorker","AppRouter","ApolloClient","ApolloProvider","Settings","onError","HttpLink","ApolloLink","split","setContext","InMemoryCache","AUTH_TOKEN","WebSocketLink","getMainDefinition","errorLink","graphQLErrors","networkError","console","log","httpLink","uri","ngrok_uri","wsLink","socket_uri","options","reconnect","authLink","_","headers","token","localStorage","getItem","authorization","httpAndSubscriptionLink","query","definition","kind","operation","concat","link","from","cache","client","render","document","getElementById","unregister"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\n//import Table from './components/Table';\n//import Login from './components/Login';\nimport AppRouter from './components/AppRouter';\nimport ApolloClient from 'apollo-client';\nimport { ApolloProvider } from '@apollo/react-hooks';\nimport Settings from './settings';\nimport {onError} from 'apollo-link-error';\nimport {HttpLink} from 'apollo-link-http';\nimport {ApolloLink, split} from 'apollo-link';\nimport { setContext } from 'apollo-link-context';\nimport {InMemoryCache} from 'apollo-cache-inmemory';\nimport {AUTH_TOKEN} from './constants';\nimport { WebSocketLink } from 'apollo-link-ws';\nimport { getMainDefinition } from 'apollo-utilities';\n/**\n * Change the uri to the server uri \n */\n\nconst errorLink = onError(({ graphQLErrors, networkError }) => {\n    if (graphQLErrors) {\n        console.log(`GraphQLErrors:`, graphQLErrors);\n    }\n\n    if (networkError) {\n        console.log(`NetworkErrors: `, networkError);\n    }\n});\n\nconst httpLink = new HttpLink({\n    uri: Settings.ngrok_uri\n});\n\nconst wsLink = new WebSocketLink({\n  uri: Settings.socket_uri,\n  options: {\n    reconnect: true\n  }\n});\n\n\nconst authLink = setContext((_, { headers }) => {\n  // get the authentication token from local storage if it exists\n  const token = localStorage.getItem(AUTH_TOKEN);\n  // return the headers to the context so httpLink can read them\n  return {\n    headers: {\n      ...headers,\n      authorization: token ? `${token}` : \"\",\n    }\n  }\n});\n\n// using the ability to split links, you can send data to each link\n// depending on what kind of operation is being sent\nconst httpAndSubscriptionLink = split(\n  // split based on operation type\n  ({ query }) => {\n    const definition = getMainDefinition(query);\n    return (\n      definition.kind === 'OperationDefinition' &&\n      definition.operation === 'subscription'\n    );\n  },\n  wsLink,\n  authLink.concat(httpLink),\n);\n\n\nconst link: ApolloLink = ApolloLink.from([errorLink, httpAndSubscriptionLink]);\n\nconst cache = new InMemoryCache();\n\nconst client = new ApolloClient({\n    link,\n    cache,\n});\n\n\nReactDOM.render(\n  <ApolloProvider client={client}>\n    <React.StrictMode>\n      <AppRouter />\n    </React.StrictMode>\n  </ApolloProvider>\n  ,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"]},"metadata":{},"sourceType":"module"}