{"ast":null,"code":"var _jsxFileName = \"/Users/justinmay/Code/poker_with_the_boys/poker/src/components/GameStart.tsx\";\nimport React, { useState } from \"react\";\nimport { useMutation } from '@apollo/react-hooks';\nimport { createGameMutation, joinGameQuery } from '../queries';\nimport '../stylesheets/GameStartOverlay.css';\nimport Settings from '../settings';\nexport default function GameStart(Props) {\n  const [startGameWorkflow, setStartGameWorkflow] = useState(false);\n  const [bigBlind, setBigBlind] = useState(0);\n  const [smallBlind, setSmallBlind] = useState(0);\n  const [gameId, setGameId] = useState(\"\");\n  const [createGame, {\n    loading: createGameLoading,\n    error: createGameError\n  }] = useMutation(createGameMutation);\n  const [joinGame, {\n    loading: joinGameLoading,\n    error: joinGameError\n  }] = useMutation(joinGameQuery);\n  const [startGame, setStartGame] = useState(false);\n\n  function startNewGame() {\n    if (Settings.dev) {\n      setStartGame(true);\n      return;\n    }\n\n    if (startGameWorkflow) {\n      const values = {\n        variables: {\n          BB: bigBlind,\n          SB: smallBlind\n        }\n      };\n      console.log(bigBlind, smallBlind);\n      createGame(values).then(e => {\n        console.log(e.data.createGame);\n        setGameId(e.data.createGame);\n        setStartGame(true);\n      }).catch(e => {\n        console.log(e.toString());\n      });\n    } else {\n      setStartGameWorkflow(true);\n    }\n  }\n\n  function startGameWithID() {\n    if (Settings.dev) {\n      setStartGame(true);\n      return;\n    }\n\n    const values = {\n      variables: {\n        gameId\n      }\n    };\n    joinGame(values).then(e => {\n      console.log(e);\n\n      if (e.data.joinGame) {\n        setStartGame(true);\n      } else {\n        console.log(\"wrong gameid\"); //TODO PUT IN USER RESPONSE\n      }\n    }).catch(error => {\n      console.log(\"join game error\");\n      console.log(error);\n    });\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    startGameWithID();\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loginContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, \"\\\"HELLO BITCVH\\\"\");\n}","map":{"version":3,"sources":["/Users/justinmay/Code/poker_with_the_boys/poker/src/components/GameStart.tsx"],"names":["React","useState","useMutation","createGameMutation","joinGameQuery","Settings","GameStart","Props","startGameWorkflow","setStartGameWorkflow","bigBlind","setBigBlind","smallBlind","setSmallBlind","gameId","setGameId","createGame","loading","createGameLoading","error","createGameError","joinGame","joinGameLoading","joinGameError","startGame","setStartGame","startNewGame","dev","values","variables","BB","SB","console","log","then","e","data","catch","toString","startGameWithID","handleSubmit","preventDefault"],"mappings":"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","sourcesContent":["import React, {ChangeEvent, useState} from \"react\";\nimport { useMutation} from '@apollo/react-hooks';\nimport {createGameMutation, joinGameQuery} from '../queries';\nimport '../stylesheets/GameStartOverlay.css';\nimport Settings from '../settings';\nimport {Redirect} from \"react-router-dom\";\n\ntype GameStartProps = {\n};\n\nexport default function GameStart(Props: GameStartProps) {\n    const [startGameWorkflow, setStartGameWorkflow] = useState(false);\n    const [bigBlind, setBigBlind] = useState(0);\n    const [smallBlind, setSmallBlind] = useState(0);\n    const [gameId, setGameId] = useState(\"\");\n    const [createGame, { loading: createGameLoading, error: createGameError }] = useMutation(createGameMutation);\n    const [joinGame, { loading: joinGameLoading, error: joinGameError }] = useMutation(joinGameQuery);\n    const [startGame, setStartGame] = useState(false);\n\n    function startNewGame() {\n        if (Settings.dev) {\n            setStartGame(true);\n            return;\n        }\n        if (startGameWorkflow) {\n            const values = { variables: { BB: bigBlind, SB: smallBlind} };\n            console.log(bigBlind,smallBlind);\n            createGame(values).then(e => {\n                console.log(e.data.createGame);\n                setGameId(e.data.createGame);\n                setStartGame(true);\n            }).catch(e => {\n                console.log(e.toString());\n            });\n        } else {\n            setStartGameWorkflow(true);\n        }\n    }\n\n    function startGameWithID() {\n        if (Settings.dev) {\n            setStartGame(true);\n            return;\n        }\n        const values = { variables: { gameId} };\n        joinGame(values).then(e => {\n            console.log(e);\n            if(e.data.joinGame) {\n                setStartGame(true);\n            } else {\n                console.log(\"wrong gameid\") //TODO PUT IN USER RESPONSE\n            }\n        }).catch(error => {\n            console.log(\"join game error\");\n            console.log(error);\n        })\n        \n    }\n\n    function handleSubmit(e: any) {\n        e.preventDefault();\n        startGameWithID();\n    }\n    \n    return (\n        <div className=\"loginContainer\">\n            \"HELLO BITCVH\"\n            \n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}